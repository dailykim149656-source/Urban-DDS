# ??? API ?? ? ?? ?????

???: 2026-02-28
????: Urban-DDS

## 1. ?? ?? ??
- ? ?? ??: ?? (`gangnam-gu`, `mapo-gu`, `haeundae-gu` ?)
- ???? API: ?? (`hasTrade=true`, ?? API? `aiSource=gemini` ??)
- ??? API: ??? ?? `buildingFactsStatus=no-data` ??

## 2. ?? ???? ??? ??
- `/api/region/summary`? ? ?? ??? ?? 200 ??
- `buildingFactsAttempts=2`? title -> recap fallback? ???
- ?? ?? ?? ?:
  - ???? API: `resultCode='000'`, `resultMsg='OK'`, ??? ??
  - ??? API(title/recap): HTTP 200?? ?? ?? 0?? ???

## 3. ?? ???? ?? ??? ?? ??
- endpoint ?? ?? ??? (`publicDataHttp`)
- `sigunguCd` ?? ??? ?? fallback ??
- `getBrTitleInfo` ?? ? `getBrRecapTitleInfo` fallback
- ????? `resultCode` ?? ?? (`00/000/03` ??)
- ??? ???? ? ??? ?? ??

## 4. ?? ?? ?? (????)
1. `BldRgstHubService` ????/?? ?? ??
2. ???? ?? ?? ?? (???/????, ???? ? ???)
3. ??? API? ???? ???? ?? ?? (?????/??)
4. ?? ?? ?? (IP/????/??? ??)

## 5. Terminal A/B ?? ??

### Terminal A (??/?? ??)
1. ??????? `BldRgstHubService` ???? ?? ??
2. ?? ??? ????? ???? ?? ?? ??
3. `.env` ??
- `REALDATA_ENABLED=true`
- `DATA_GO_KR_BUILDING_ENDPOINT=https://apis.data.go.kr/1613000/BldRgstHubService/getBrTitleInfo`
- `DATA_GO_KR_APT_TRADE_ENDPOINT=https://apis.data.go.kr/1613000/RTMSDataSvcAptTrade/getRTMSDataSvcAptTrade`
- `DATA_GO_KR_SERVICE_KEY=<????>`
4. ??? API ?? ?? 2? ??
- ?/?? ??
- `sigunguCd` ??

### Terminal B (?? ??, Codex)
1. `/api/region/summary` ? ?? 5? ?? ??
- ?? ???, ?? ???, ?? ????, ?? ???, ?? ???
2. ?? ??
- `hasTrade=true` ??
- `buildingFactsStatus`? `no-data` -> `ok` ????? ??
3. `/api/analysis/report` ?? ??
- `200`, `aiSource=gemini`

## 6. ??? API ?? ?? URL ???

### 6.1 title (?/?? ??)
`https://apis.data.go.kr/1613000/BldRgstHubService/getBrTitleInfo?serviceKey={KEY}&sigunguCd=11680&bjdongCd=10300&platGbCd=0&bun=0012&ji=0000&numOfRows=10&pageNo=1&_type=json`

### 6.2 recap (fallback)
`https://apis.data.go.kr/1613000/BldRgstHubService/getBrRecapTitleInfo?serviceKey={KEY}&sigunguCd=11680&numOfRows=10&pageNo=1&_type=json`

## 7. ?? ?? (DoD)
- ? ?? ?? 3??? `buildingFactsStatus='ok'`
- `buildingFacts.sampleSize > 0`
- ?? ????/?? ?? ?? ??

## 8. ?? ?? ?? (??? API ??? ??)
1. ?? `buildingLookup` seed ?? (????? + ??)
2. `no-data`? ?? ?? ?? ?? ? 2~3? ?? fallback
3. ?? ??? UI? ?? (`request-failed/no-data` ??)
